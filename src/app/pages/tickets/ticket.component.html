<div class="row animated fadeIn">
  <div class="col-md-7">
    <form #form="ngForm" ngNativeValidate class="form-material" (ngSubmit)="guardarTicket(form)">
      <div class="card">
        <div class="card-body p-b-0">
          <h4 class="card-title">Guardar - Actualizar ticket</h4>
          <h6 class="card-subtitle">Lo campos marcados con * son requeridos
          </h6>
        </div>
        <div class="card">
          <div class="card-body">
            <div class="form-group">
              <label>Incidencia
              </label>
              <input [(ngModel)]="ticket.incidencia" name="incidencia" type="text" class="form-control form-control-line" required>
            </div>
            <div class="form-group">
              <label>Descripcion</label>
              <textarea [(ngModel)]="ticket.detalle" name="detalle" class="form-control" rows="5" required></textarea>
            </div>
            <div class="form-group">
              <label>Asignar a</label>
              <select (change)="cambioUsuario($event.target.value)" [(ngModel)]="ticket.asignado" name="asignado" class="form-control"
                required>
                <option value="">Seleccionar usuario</option>
                <option *ngFor="let usuario of usuarios" [value]="usuario._id">
                  {{usuario.nombre}}
                </option>
              </select>
            </div>
            <div class="form-group">
              <label>Estado</label>
              <select [disabled]='estado' [(ngModel)]="ticket.estado" name="estado" class="form-control">
                <option value="nuevo">Seleccione un estado</option>
                <option value="pendiente">Pendiente</option>
                <option value="cerrado">Cerrado</option>
              </select>
            </div>
            <div class="form-group">
              <label>Pioridad</label>
              <select [(ngModel)]="ticket.prioridad" name="prioridad" class="form-control">
                <option value="">Seleccione una prioridad</option>
                <option value="muybaja">Muy baja</option>
                <option value="baja">Baja</option>
                <option value="media">Media</option>
                <option value="alta">Alta</option>
                <option value="urgente">Urgente</option>
              </select>
            </div>
            <button type="submit" class="btn btn-success waves-effect waves-light">
              <i class="fa fa-save"></i>
              Guardar</button>
            <a routerLink="/tickets" class="btn btn-inverse waves-effect waves-light">
              <i class="fa fa-save"></i>
              Cancelar</a>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="col-md-5">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Usuario asignado</h4>
        <h6 class="card-subtitle">Nombre: {{usuario.nombre}}</h6>
        <img [src]="usuario.img | imagen" alt="usuario.nombre" class="card-img-top">
      </div>
    </div>
  </div>
</div>